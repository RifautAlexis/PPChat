<section>

  <ng-container *ngIf="thread">

    <ng-container *ngFor="let message of thread.messages">

      <ng-container *ngIf="isSender(message.sender); then rightMessage; else leftMessage"></ng-container>

      <ng-template #leftMessage>
        <div class="leftMessage">

          <span> {{ message.content }} </span>

        </div>
      </ng-template>

      <ng-template #rightMessage>
        <div class="rightMessage">

          <span> {{ message.content }} </span>

        </div>
      </ng-template>

    </ng-container>

  </ng-container>

  <form [formGroup]="chatForm" (ngSubmit)="onSubmit()">

    <input type="text" formControlName="messageForm" placeholder="Ecrire un message">
    <button type="submit" [disabled]="!chatForm.valid"> Send </button>

  </form>

</section>
